Create a service that function as a lock.
Two versions: one with polling and one without but using csets.
